<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Real Form</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script>
		$(document).ready(function() {
			
			$("#contactForm").submit(function() {
				console.log("form submit");
				
				//clear any possible error
				$("#resultError").html("");
				
				//get the values
				var name = $("#name").val();
				var email = $("#email").val();
				var comments = $("#comments").val();
				
				//flag for error state
				var hasErrors = false;
				
				//messages for our errors
				var errorMessages = [];
				
				//is the name blank?
				if(name === '') {
					hasErrors = true;
					errorMessages.push("Name is required.");
				}

				//if the email is NOT blank, validate
				if(email !== '' && email.indexOf("@") <= 0) {
					hasErrors = true;
					errorMessages.push("If an email is specified, it must be an email address.");					
				}
				
				//are the comments blank?
				if(comments === '') {
					hasErrors = true;
					errorMessages.push("Comments are required.");
				}
				
				if(hasErrors) {
					console.log(errorMessages);
					var errorStr = '<div class="alert alert-danger" role="alert"><strong>Please correct:</strong><ul>';
					for(var i=0, len=errorMessages.length; i<len; i++) {
						errorStr += '<li>' + errorMessages[i] + '</li>';
					}
					
					errorStr += '</ul></div>';
					$("#resultError").html(errorStr);

					return false;
				} else {
					return true;
				}
				
			});
		});
			
		</script>
	</head>
	<body>

		<div class="container">

		<h1>Contact Form</h1>
		
			<form role="form" id="contactForm" novalidate>

				<div id="resultError"></div>
				
				<div class="form-group">
					<label for="name">* Your Name</label>
					<input type="text" class="form-control" id="name" name="name" placeholder="Enter name">
				</div>

				<div class="form-group">
					<label for="email">Email address</label>
					<input type="email" class="form-control" id="email" name="email" placeholder="Enter email">
				</div>

				<div class="form-group">
					<label for="comments">* Comments</label>
					<textarea name="comments" id="comments" class="form-control"></textarea>
				</div>

				<button type="submit" class="btn btn-default btn-primary">Submit</button>
			</form>
			
		</div>
		
	</body>
</html>
